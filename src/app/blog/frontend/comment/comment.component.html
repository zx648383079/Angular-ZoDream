<div id="comments" class="book-footer comment">
    <div class="book-comment-form" *ngIf="commentData.parent_id < 1">
        <div class="title"> 发表评论 </div>
        <div class="form-table" *ngIf="!user">
            <div class="form-group">
                <label>称呼</label>
                <input type="text" [(ngModel)]="commentData.name" placeholder="请输入姓名">
            </div>
            <div class="form-group">
                <label>邮箱</label>
                <input type="email" [(ngModel)]="commentData.email" placeholder="请输入邮箱">
            </div>
            <div class="form-group">
                <label>网址</label>
                <input type="url" [(ngModel)]="commentData.url" placeholder="请输入网址">
            </div>
        </div>
        <textarea [(ngModel)]="commentData.content" placeholder="请输入内容"></textarea>
        <app-action-button class="btn btn-primary" (tapped)="tapComment($event)">评论</app-action-button>
    </div>
    <div class="book-comments hot-comments" *ngIf="hotItems.length > 0">
        <div class="title">
            热门评论 
        </div>
        <div id="comment-box">
            <ng-container *ngFor="let item of hotItems">
                <app-comment-item [value]="item" [user]="user"></app-comment-item>
            </ng-container>
        </div>
    </div>
    <div class="book-comments">
        <div class="title">
            全部评论 <div class="order">
                <span [ngClass]="{active: queries.order == 'desc'}" (click)="tapSort('desc')">最新</span>
                <span [ngClass]="{active: queries.order == 'asc'}" (click)="tapSort('asc')">最早</span>
            </div>
        </div>
        <div id="comment-box">
            <app-pull-to-refresh [more]="hasMore" [loading]="isLoading" (moreChange)="tapMore()" (refreshChange)="tapRefresh()">
                <ng-container *ngFor="let item of items">
                    <app-comment-item [value]="item" [user]="user"></app-comment-item>
                </ng-container>
            </app-pull-to-refresh>
        </div>
    </div>
</div>