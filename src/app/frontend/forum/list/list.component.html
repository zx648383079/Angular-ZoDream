<div class="container" *ngIf="forum">
  <ul  class="breadcrumb">
      <li class="breadcrumb-item">
          <a routerLink="/" class="iconfont icon-home"></a>
      </li><li class="breadcrumb-item">
          <a routerLink="../">圈子首页</a>
      </li>
              <li class="breadcrumb-item active">{{ forum.name }}
      </li>
  </ul>
</div>
<div class="container">
    <div class="forum-group" *ngIf="forum">
        <div class="group-header">
            {{ forum.name }}</div>
        <div class="group-body" *ngIf="forum.children && forum.children.length > 0">
            <ng-container *ngFor="let item of forum.children">
            <div class="forum-item">
                <div class="thumb">
                    <img [src]="item.thumb" alt="">
                </div>
                <div class="info">
                    <div class="name">
                        <a routerLink="{{ item.id }}">{{ item.name }}</a>
                    </div>
                    <div class="count">主题：{{ item.thread_count }}，帖数：{{ item.post_count }}</div>
                    <div class="last-thread" *ngIf="item.last_thread">
                        <a routerLink="thread/{{ item.last_thread.id }}">{{ item.last_thread.title }}</a>
                        {{ item.last_thread.created_at }} {{ item.last_thread.user.name }} </div>
                </div>
            </div>
            </ng-container>
        </div>
    </div>

    <div class="thread-list">
        <div class="thread-item-header">
            <div class="name">
                标题
            </div>
            <div class="time">
                作者
            </div>
            <div class="count">
                回复/查看
            </div>
            <div class="reply">
                最后发表
            </div>
        </div>
        <ng-container *ngFor="let item of items">
          <div class="thread-item">
            <div class="name">
                <i class="iconfont icon-file"></i>
                <a class="title" routerLink="../thread/{{ item.id }}">{{ item.title }}</a>
            </div>
            <div class="time">
                <em data-action="user" data-id="1">{{ item.user.name }}</em>
                <em>{{ item.created_at }}</em>
            </div>
            <div class="count">
                <em>{{ item.post_count }}</em>
                <em>{{ item.view_count }}</em>
            </div>
            <div class="reply">
                <em>zodream</em>
                <em>2019-10-19</em>
            </div>
        </div>
        </ng-container>
        
        <div class="paging-box">
        </div>


    </div>
    <div class="thread-new-box">
        <div class="header">快速发帖</div>
        <form data-type="ajax" action="http://zodream.localhost/forum/thread/create" method="post">
            <div class="title">
                <select name="classify_id">
                    <option value="0">选择主题分类</option>
                    <option value="1">功能</option>
                    <option value="2">页面</option>
                    <option value="3">建议</option>
                </select>
                <input type="text" name="title" required="">
            </div>

            <app-forum-editor></app-forum-editor>
            
            <div class="footer">
                <button class="btn">发表帖子</button>
                <input type="hidden" name="forum_id" value="2">
            </div>
        </form>
    </div>
</div>