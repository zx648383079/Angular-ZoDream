<div class="container" *ngIf="tabIndex < 1">
    <div class="input-item" (click)="tabIndex = 1">
        <div class="item-icon">
            <i class="iconfont icon-key"></i>
        </div>
        <div class="item-body">
            <div class="item-name">通过原密码验证</div>
            <div class="item-meta">如果你还记得密码，则可通过当前密码进行修改</div>
        </div>
        <div class="item-action">
            <i class="iconfont icon-chevron-right"></i>
        </div>
    </div>
    <div class="input-item" (click)="tabIndex = 2">
        <div class="item-icon">
            <i class="iconfont icon-mail"></i>
        </div>
        <div class="item-body">
            <div class="item-name">通过邮箱验证</div>
            <div class="item-meta">如果你的账号绑定邮箱，则可通过向绑定邮箱发送验证码修改</div>
        </div>
        <div class="item-action">
            <i class="iconfont icon-chevron-right"></i>
        </div>
    </div>
    <div class="input-item" (click)="tabIndex = 3">
        <div class="item-icon">
            <i class="iconfont icon-mobile"></i>
        </div>
        <div class="item-body">
            <div class="item-name">通过手机验证</div>
            <div class="item-meta">如果你的绑定手机可用，则可通过绑定的手机发送验证码修改</div>
        </div>
        <div class="item-action">
            <i class="iconfont icon-chevron-right"></i>
        </div>
    </div>
    <div class="input-item">
        <div class="item-icon">
            <i class="iconfont icon-service"></i>
        </div>
        <div class="item-body">
            <div class="item-name">以上方式都不能用</div>
            <div class="item-meta">如果您的原手机号，邮箱已经无法使用，请联系我们</div>
        </div>
    </div>
</div>
<div class="inner-container min-container" *ngIf="tabIndex == 1">
    <div class="inline-input">
        <input type="password" class="form-control" placeholder="旧密码">
    </div>
    <div class="inline-input">
        <input type="password" class="form-control" placeholder="新密码">
    </div>
    <div class="inline-input">
        <input type="password" class="form-control" placeholder="确认新密码">
    </div>
    <div class="btn-group">
        <button class="btn btn-primary">确定修改</button>
        <a class="btn btn-secondary" (click)="tabIndex = 0">返回</a>
    </div>
</div>
<div class="container min-container" *ngIf="tabIndex > 1">
    <div class="step-header">
        <a class="step-item" [ngClass]="{active: stepIndex < 1}">
            <span class="step-no">1</span>
            <span class="step-title">验证身份</span>
            <i class="step-line"></i>
        </a>
        <a class="step-item" [ngClass]="{active: stepIndex == 1}">
            <span class="step-no">2</span>
            <span class="step-title">设置密码</span>
            <i class="step-line"></i>
        </a>
        <a class="step-item" [ngClass]="{active: stepIndex > 1}">
            <span class="step-no">3</span>
            <span class="step-title">修改成功</span>
        </a>
    </div>
    
    <div class="step-body min-body" *ngIf="stepIndex < 1">
        <div class="inline-input disabled">
            <label>{{ tabIndex == 2 ? '邮箱' : '手机号' }}</label>
            <input type="text" [value]="tabIndex == 2 ? user.email : user.mobile" readonly>
        </div>
        <div class="code-input">
            <input type="text" [(ngModel)]="data.verify_code">
            <app-countdown-button class="send-btn" (tapped)="tapSendCode($event)"></app-countdown-button>
        </div>
    
        <div class="btn btn-primary line-btn" (click)="tapNext()">下一步</div>
    </div>
    <div class="step-body min-body" *ngIf="stepIndex == 1">
        <div class="inline-input">
            <input type="password" class="form-control" placeholder="新密码">
        </div>
        <div class="inline-input">
            <input type="password" class="form-control" placeholder="确认新密码">
        </div>
    
        <div class="btn btn-primary line-btn" (click)="tapNext()">下一步</div>
    </div>
    <div class="step-body min-body" *ngIf="stepIndex > 1">
        <div class="step-tip">
            <i class="iconfont icon-check"></i>
            修改成功
        </div>
    </div>
</div>