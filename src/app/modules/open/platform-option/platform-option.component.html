<div class="form-table-control">
    <div class="input-group-control">
        <label for="platform_id">应用</label>
        <div>
            <select id="platform_id" class="form-control" [formField]="dataForm.platform" (change)="tapPlatformChange()">
                @for (item of platformItems(); track $index) {
                    <option [value]="item.id">{{ item.name }}</option>
                }
            </select>
        </div>
    </div>
    <div class="edit-view">
        @for (group of dataForm.items; track $index) {
            <div class="expand-box" [class.min]="group.expanded().value()">
                <div class="expand-header" (click)="toggleGroup(group)">
                    {{ group.label().value() }}
                    <i class="iconfont" [class]="group.expanded ? 'icon-chevron-down' : 'icon-chevron-up'"></i>
                </div>
                <div class="expand-body">
                    @for (item of group.children; track $index) {
                    <div class="input-group-control">
                        <label [attr.for]="'option_' + group.name().value() + item.name().value() ">{{ item.label().value() }}</label>
                        <div>
                            <input type="text" [id]="'option_' + group.name().value() + item.name().value() " class="form-control" [formField]="item.value">
                            @if (item.tip().value()) {
                                <div class="tip">{{ item.tip().value() }}</div>
                            }
                        </div>
                    </div>
                    }
                </div>
            </div>
        }
    </div>
    <app-action-button class="btn btn-primary" (tapped)="saveOption($event)">保存</app-action-button>
</div>