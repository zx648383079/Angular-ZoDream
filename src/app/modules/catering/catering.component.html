<div class="header-bar">
    <div class="container-fluid">
        <div class="tab-bar">
            <a [ngClass]="{active: tabIndex < 1}" (click)="tapTab(0)" routerLink="./">推荐</a>
            <a [ngClass]="{active: tabIndex == 1}" (click)="tapTab(1)" routerLink="store">商品</a>
            <a>
                <app-catering-search-input></app-catering-search-input>
            </a>
        </div>
        <div class="tab-bar pull-right">
            <a (click)="tapScan()">
                <i class="iconfont icon-scan"></i>
            </a>
            <a (click)="cartModal.open()">
                <i class="iconfont icon-shopping-cart"></i>
            </a>
            <div class="user-icon">
                <div class="avatar" (click)="tapAvatar()">
                    <img [src]="user.avatar | asset">
                </div>
                <div class="drop-menu" [hidden]="!authOpen">
                    <app-menu-body [items]="menuItems" [flowLeft]="true" (tapped)="onMenuTap($event)"></app-menu-body>
                </div>
            </div>
        </div>
        
    </div>
</div>

<div class="inner-body">
    <router-outlet></router-outlet>
</div>


<app-login-dialog></app-login-dialog>
<app-catering-cart-dialog></app-catering-cart-dialog>
<app-authorize-dialog></app-authorize-dialog>
<div class="dialog-mask" *ngIf="scanOpen" (click)="scanOpen = false"></div>
<div class="scanner-dialog" *ngIf="scanOpen">
    <app-scanner (completed)="onScanCompleted($event)"></app-scanner>
</div>