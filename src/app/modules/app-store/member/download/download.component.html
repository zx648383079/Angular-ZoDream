<div class="container">
    @for (item of items; track $index) {
        <div class="download-item">
        <div class="inner-progress" [ngStyle]="item.style"></div>
        <div class="inner-body">
            <div class="item-logo">
                <img [src]="item.package.icon|asset" alt="">
            </div>
            <div class="item-body">
                <div class="item-name">{{ item.package.name }}</div>
                <div class="item-version">{{ item.version.name }}</div>
                <div class="item-meta">{{ item.version.description }}</div>
            </div>
            <div class="item-type">
                {{ item.package.category.name }}
            </div>
            <div class="item-time">
                @if (item.status < 1) {
                    {{ item.version.created_at | ago }}
                } @else {
                    @if (item.status == 2) {
                        <div class="item-speed">{{ item.speed | size }}/s</div>
                    }
                    
                    <div class="item-progress">
                        {{ item.progress | size }}/{{ item.length | size }}
                    </div>
                }
                
            </div>
            <div class="item-action">
                <div class="btn-group">
                    <div class="btn btn-primary">
                        <i class="iconfont icon-play"></i>
                    </div>
                    <div class="btn btn-danger">
                        <i class="iconfont icon-close"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    }

    <app-loading-tip [loading]="isLoading" [visible]="isLoading || items.length == 0" />
    <app-pagination [total]="total" [field]="queries.page" [perPage]="queries.per_page().value()" (valueChange)="tapPage()" />
</div>