<header>
    <div class="container-fluid">
        <div class="top-bar">
            <div class="brand-logo">
                <img [src]="'assets/images/logo.png' | asset" alt="">
            </div>
            <div class="more-bar">
                <a routerLink="/frontend/forum" i18n>Forums</a>
                <a routerLink="download/history">
                    <i class="iconfont icon-clock-o"></i>
                    <ng-container i18n>Download record</ng-container>
                </a>
                <div class="inner-group">
                    <a routerLink="download">
                        <i class="iconfont icon-download"></i>
                    </a>
                    @if (user) {
                        <a routerLink="/backend">{{ user.name }}</a>
                    } @else {
                        <a routerLink="/auth" i18n>Sign In</a>
                    }
                    <div class="navbar-icon" (click)="toggleNav()">
                        <i class="iconfont icon-bars"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="navbar" [ngClass]="{open: navOpen}">
        <div class="container-fluid">
            <ul class="navbar-main">
                @for (item of navItems; track $index;let i = $index) {
                    <li [ngClass]="{active: i == navIndex}" (click)="navIndex = i">
                        <a >{{ item.name }}</a>
                    </li>
                }
            </ul>
        </div>
        <div class="container-fluid navbar-next-bar">
            <ul class="navbar-next">
                @for (item of subNavItems; track item.id) {
                    <li [ngClass]="{active: item.active}">
                        <a [routerLink]="['category', item.id]">{{ item.name }}</a>
                        @if (item.children) {
                            <div class="nav-sub">
                                <ul>
                                    @for (it of item.children; track $index) {
                                        @if (it.name) {
                                            <li>
                                                <a [routerLink]="['category', it.id]">{{ it.name }}</a></li>
                                        } @else {
                                            <li class="divider"></li>
                                        }
                                    }
                                </ul>
                            </div>
                        }
                        
                    </li>
                }
            </ul>
            @if (searchVisible) {
                <form class="search-inline" (ngSubmit)="tapSearch(searchForm.value)" #searchForm="ngForm">
                    <i class="iconfont icon-search"></i>
                    <input type="text" class="form-control" placeholder="Search ..." name="keywords" ngModel>
                </form>
            }
            
        </div>
        
    </div>
</header>

<div class="inner-body">
    <router-outlet></router-outlet>
</div>


<footer>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <div class="align-center">
                    Copyright Â©zodream.cn, All Rights Reserved.
                </div>
            </div>
        </div>
    </div>
</footer>