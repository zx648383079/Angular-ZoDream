<div class="container main-container" [ngClass]="{'on-search': openType > 0}">
    <app-search-input [value]="queries.keywords" (valueChange)="tapSearch($event)"></app-search-input>

    <ng-container *ngIf="openType < 1 && user">
        <app-navigation-panel></app-navigation-panel>
    </ng-container>

    <div class="open-icon" *ngIf="openType < 2" [ngClass]="{'opened': openType == 1}" (click)="toggleOpen()">
    </div>

    <ng-container *ngIf="openType == 1">
        <app-site></app-site>
    </ng-container>
    <ng-container *ngIf="openType == 2">
        <div class="loading-tip" *ngIf="isLoading" i18n>
            Loading ...
        </div>
        
        <div class="empty-tip" *ngIf="!isLoading && total < 1" i18n>
            Search results are empty
        </div>

        <ng-container *ngFor="let item of items">
          <app-page-container [value]="item" (onAction)="tapItem($event)"></app-page-container>
        </ng-container>
        <app-pagination [total]="total" [(page)]="queries.page" [perPage]="queries.per_page" (pageChange)="tapPage()"></app-pagination>
    </ng-container>
</div>

<app-page-card></app-page-card>
<app-report-dialog></app-report-dialog>