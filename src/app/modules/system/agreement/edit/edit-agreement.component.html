<app-edit-header [title]="data && data.id > 0 ? '编辑协议' : '新增协议'" (submited)="tapSubmit()"></app-edit-header>

<div class="container-fluid">
    <div class="form-table-control panel-container">
        <div class="language-toggle" *ngIf="languageItems.length > 1">
            <ng-container *ngFor="let item of languageItems">
                <a (click)="loadDetail(item.id, item.value)" [ngClass]="{active: item.value === data.language}">{{ item.name }}</a>
            </ng-container>
        </div>
        <div class="input-group-control">
            <label for="name">名称</label>
            <div>
                <input type="text" id="name" class="form-control" 
                 [(ngModel)]="data.name" placeholder="例如: agreement">
                <div class="input-tip">格式为a-z_0-9</div>
            </div>
        </div>
        <div class="input-group-control">
                <label for="title">标题</label>
                <div>
                    <input type="text" id="title" class="form-control" [(ngModel)]="data.title">
                </div>
        </div>
        <div class="input-group-control">
            <label for="description">介绍</label>
            <div>
                <textarea id="description" class="form-control" [(ngModel)]="data.description"></textarea>
            </div>
        </div>

        <div class="input-group-control">
            <label for="content">内容</label>
        </div>
        <app-agreement-editor id="content" [(ngModel)]="data.content"></app-agreement-editor>
        <div class="input-group-control">
            <label for="status">状态</label>
            <div>
                <app-switch id="status" [(ngModel)]="data.status"></app-switch>
            </div>
        </div>
        
        <div class="btn-group">
            <app-action-button (tapped)="tapSubmit($event)" class="btn btn-success">确认保存</app-action-button>
            <a class="btn btn-danger" (click)="tapBack()">取消修改</a>
        </div>

    </div>
</div>