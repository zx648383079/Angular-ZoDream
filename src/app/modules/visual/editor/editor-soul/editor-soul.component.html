<div class="soul-main">
    <div class="tab-box">
        <div class="tab-header">
            <div class="tab-item" [ngClass]="{active: tabIndex < 1}" (click)="tabIndex = 0">组件</div>
            <div class="tab-item" [ngClass]="{active: tabIndex == 1}" (click)="tabIndex = 1">部件</div>
            <div class="tab-item" [ngClass]="{active: tabIndex == 2}" (click)="tabIndex = 2">动态容器</div>
        </div>
        <div class="tab-body" [ngStyle]="bodyStyle">
            <div class="tab-item" [ngClass]="{active: tabIndex < 1}">
                <div class="row">
                    @for (item of controlItems; track $index) {
                    <div class="col-6">
                        <div class="weight-item" (dblclick)="tapWidget(item)" (mousedown)="moveWidget(item, $event)">
                            @if (item.icon) {
                                <i class="iconfont" [ngClass]="item.icon"></i>
                            }
                            @if (!item.icon && item.preview) {
                                <img [src]="item.preview" [alt]="item.name">
                            }
                            <span>{{ item.name }}</span>
                        </div>
                    </div>
                    }
                </div>
            </div>
            <div class="tab-item" [ngClass]="{active: tabIndex == 1}">
                @for (item of panelItems; track $index) {
                <div class="col-6">
                    <div class="weight-item">
                        @if (item.icon) {
                            <i class="iconfont" [ngClass]="item.icon"></i>
                        }
                        @if (!item.icon && item.preview) {
                            <img [src]="item.preview" [alt]="item.name">
                        }
                        <span>{{ item.name }}</span>
                    </div>
                </div>
                }
            </div>
            <div class="tab-item" [ngClass]="{active: tabIndex == 2}">
                <div class="add-btn" (click)="gridModal.open()">
                    <i class="iconfont icon-plus"></i>
                    新建
                </div>
            </div>
        </div>
    </div>
    <div class="soul-footer" (click)="shortcutModal.open()">
        <i class="iconfont icon-keyboard"></i>
    </div>
</div>


<app-dialog-box #shortcutModal title="快捷键" [footerVisible]="false">
    <app-shortcut-info></app-shortcut-info>
</app-dialog-box>

<app-dialog-box #gridModal title="新建动态容器">
    <div class="form-group">
      <label for="name">名称</label>
      <input type="text" class="form-control" name="name" id="name">
    </div>
    <div class="form-group">
        <label for="width">尺寸</label>
        <input type="number" class="form-control" name="width" id="width">
        X
        <input type="number" class="form-control" name="height" id="height">
    </div>
</app-dialog-box>