<div class="container-fluid">
    <div class="panel-container book-box" *ngIf="data">
        <div class="row">
            <div class="col-md-3">
                <div class="cover">
                    <img [src]="data.cover" alt="">
                </div>
            </div>
            <div class="col-md-9">
                <div class="title">{{ data.name }}</div>
                <div class="row">
                    <div class="col-md-6">
                        <div class="line-item">
                            <ng-container i18n>Author:</ng-container>
                            {{ data.author?.name }}</div>
                        <div class="line-item">
                            <ng-container i18n>Last update:</ng-container>
                            {{ data.updated_at|ago }}</div>
                    </div>
                    <div class="col-md-6">
                        <div class="line-item">
                            <ng-container i18n>Action:</ng-container>
                            <a (click)="tapAddBook()" i18n>{data.on_shelf, plural, =true {In the bookshelf} =false {Add to bookshelf }}</a>
                        </div>
                        <div class="line-item">
                            <ng-container i18n>Last chapter:</ng-container>
                            {{ data.last_chapter?.title }}</div>
                    </div>
                </div>

                <div class="content">{{ data.description }}</div>
                <div class="action-bar">
                    <div class="btn-group">
                        <div class="btn btn-primary" (click)="tapRead()" i18n>Read now</div>
                        <div class="btn-group" ngbDropdown role="group" aria-label="Button group with nested dropdown">
                            <button class="btn btn-success" ngbDropdownToggle i18n>Download</button>
                            <div class="dropdown-menu" ngbDropdownMenu>
                              <button ngbDropdownItem (click)="tapDownload()">TXT</button>
                              <button ngbDropdownItem (click)="tapDownload(true)">ZIP</button>
                            </div>
                          </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="panel-container chapter-box">
        <app-chapter-catalog [items]="chapterItems" (selected)="tapChapter($event)"></app-chapter-catalog>
    </div>
</div>