<div class="math-mark-bar">
    @for (item of items; track $index) {
        @switch (item.type) {
            @case ('input') {
                @if (editable) {
                    <input type="text" class="form-control" [(ngModel)]="item.value" (ngModelChange)="onInputChange()" [size]="item.size">
                } @else {
                    <div class="input-bar">
                        <p class="success-color">正确答案：
                            <app-math-mark [content]="item.rightValue"></app-math-mark>
                        </p>
                        <p>你的回答：<app-math-mark [content]="item.value"></app-math-mark></p>
                    </div>
                }
            }
            @case ('table') {
                <table class="table table-hover">
                    <thead>
                        <tr>
                            @for (th of item.header; track $index) {
                            <th [ngStyle]="{'text-align': th.align}">
                                @for (it of th.items; track $index) {
                                    @switch (it.type) {
                                        @case ('math') {
                                            <span [innerHTML]="it.content"></span>
                                        }
                                        @case ('image') {
                                            <img [src]="it.content">
                                        }
                                        @default {
                                            {{ it.content }}
                                        }
                                    }
                                }
                            </th>
                            }
                        </tr>
                    </thead>
                    <tbody>
                        @for (tr of item.content; track $index) {
                        <tr>
                            @for (td of tr; track $index) {
                            <td [ngStyle]="{'text-align': td.align}">
                                @for (it of td.items; track $index) {
                                    @switch (it.type) {
                                        @case ('math') {
                                            <span [innerHTML]="it.content"></span>
                                        }
                                        @case ('image') {
                                            <img [src]="it.content">
                                        }
                                        @default {
                                            {{ it.content }}
                                        }
                                    }
                                }
                            </td>
                            }
                        </tr>
                        }
                    </tbody>
                </table>
            }
            @case ('math') {
                <span [innerHTML]="item.content"></span>
            }
            @case ('image') {
                <img [src]="item.content">
            }
            @case ('underline') {
                <span class="underline">{{ item.content }}</span>
            }
            @case ('wavyline') {
                <span class="wavyline">{{ item.content }}</span>
            }
            @case ('bold') {
                <span class="bold">{{ item.content }}</span>
            }
            @case ('dashed') {
                <span class="dashed">{{ item.content }}</span>
            }
            @case ('line') {
                <br>
            }
            @default {
               {{ item.content }} 
            }
        }
    }
</div>