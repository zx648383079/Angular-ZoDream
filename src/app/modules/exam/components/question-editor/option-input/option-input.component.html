@for (item of value(); track $index; let i = $index) {
<div class="option-item" (click)="tapEditOption(optionModal, i)">
    <div class="item-action" (click)="tapSelected($event, i)">
        <i class="iconfont" [class]="{'icon-check': item.is_right, 'icon-close': !item.is_right}" title="标记当前选项是否正确"></i>
    </div>
    <div class="item-body">
        @if (item.type != 1) {
        <div class="item-text">
            {{ item.content }}
        </div>
        } @else {
        <div class="item-image">
            <img [src]="item.content">
        </div>
        }
        @if (!disabled()) {
        <div class="flex-icon">
            <i class="iconfont icon-minus" (click)="tapRemoveOption($event, i)" title="删除此选项"></i>
        </div>
        }
    </div>
</div>
}
@if (!disabled()) {
<div class="empty-option">
    <div class="add-btn" (click)="tapEditOption(optionModal)">
        <i class="iconfont icon-plus"></i>
    </div>
</div>
}
<app-dialog-box #optionModal title="编辑选项" [scrollable]="false">
    <div class="row">
        <div class="col-md-6">
            <div class="form-group">
                <label>内容类型</label>
                <app-check-input [source]="optionTypeItems" [(value)]="optionData.type"/>
            </div>
        </div>
        <div class="col-md-6">
            <div class="form-group">
                <label>是否正确</label>
                <app-switch [(value)]="optionData.is_right" />
            </div>
        </div>
    </div>
    @if (optionData.type < 1) {
        <app-exam-editor [(value)]="optionData.content" />
    } @else {
        <app-file-input [(value)]="optionData.content" />
    }
    <ng-container name="footer"> 
        <button type="button" class="btn btn-outline-dark" (click)="optionModal.close('next')">保存并下一个</button>
    </ng-container>
</app-dialog-box>