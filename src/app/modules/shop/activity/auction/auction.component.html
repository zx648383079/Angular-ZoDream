<div class="container">
    <nav class="breadcrumb">
        <a class="breadcrumb-item" routerLink="../" i18n>Home</a>
        <span class="breadcrumb-item active" i18n>Auction</span>
    </nav>

    <div>
        <div class="row">
            @for (item of items(); track $index) {
                <div class="col-lg-3 col-md-4 col-6">
                <div class="goods-item item-hover">
                    <div class="thumb">
                        <img [src]="item.goods.thumb" alt="">
                        <div class="time">
                            <app-countdown label="距离结束" [end]="item.end_at" />
                        </div>
                    </div>
                    <div class="flex-line">
                        <div class="price-group">
                            <div class="price">{{ item.price || 0 | price }}</div>
                            <div class="old-price">{{ item.goods.market_price | price }}</div>
                        </div>
                        <div class="count">
                            {{ item.log_count | numberFormat }}次出价
                        </div>
                    </div>
                    <div class="name">{{ item.goods.name }}</div>
                    
                    @if (item.status < 1) {
                    <a class="btn btn-danger" [routerLink]="item.id + ''">立即出价</a>
                    }
                    @if (item.status > 0) {
                    <a [routerLink]="item.id + ''" class="btn btn-dark">已结束</a>
                    }
                </div>
            </div>
            }
        </div>

        <app-pagination [total]="total()" [field]="queries.page" [perPage]="queries.per_page().value()" (valueChange)="tapPage()" />
    </div>
</div>