<div class="coupon-page">
    <div class="container">
        <nav class="breadcrumb">
            <a class="breadcrumb-item" routerLink="../" i18n>Home</a>
            <span class="breadcrumb-item active" i18n>Coupon</span>
        </nav>

        <div>
            @for (item of items(); track $index) {
                <div class="coupon-item">
                <div class="thumb">
                    <img [src]="item.thumb" alt="">
                </div>
                <div class="info">
                    <div class="price">
                        @if (item.type > 0) {
                            <em>
                                {{ item.money }}折
                            </em>
                        } @else {
                            <em>
                                ￥{{ item.money }}
                            </em>
                        }
                        <span class="limit">满{{ item.min_money }}元可用</span>
                    </div>
                    <div class="rang">
                        {{ item.name }}
                    </div>
                    @if (!item.can_receive) {
                    <div class="got-tip">
                        已领取
                    </div>
                    }
                </div>
                <div class="action">
                    @if (item.can_receive) {
                    <a (click)="tapReceive(item)">立即领取</a>
                    }
                    @if (!item.can_receive) {
                    <a>立即使用</a>
                    }
                </div>
                
            </div>
            }
            
            <app-pagination [total]="total()" [field]="queries.page" [perPage]="queries.per_page().value()" (valueChange)="goPage($event)" />
        </div>

    </div>
</div>