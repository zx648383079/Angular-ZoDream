<div class="container-fluid">
  
    <div class="panel-container reader-box">
        <app-flip-pager [initChapter]="chapterId" (progressChanged)="onProgressChange($event)" (previewRequest)="onRequest($event)"></app-flip-pager>
    </div>
    

    <footer class="reader-footer">
        <div class="pager">
            <a (click)="tapPrev()">上一章</a>
            <app-progress-bar></app-progress-bar>
            <a (click)="tapNext()">下一章</a>
        </div>
        <div class="setting" v-if="readMode == 2">
            <div class="line-item">
                <span>字体颜色</span>
                <div class="color-box">
                    <app-color-picker v-model="configs.color">
                        <span class="color" :style="'background-color: ' + configs.color"></span>
                    </app-color-picker>
                </div>
            </div>
            <div class="line-item">
                <span>背景颜色</span>
                <div class="color-box">
                    <app-color-picker v-model="configs.background">
                        <span class="color" :style="'background-color: ' + configs.background"></span>
                    </app-color-picker>
                    <span class="add-img" (click)="tapBackgroundImg()">
                        <i class="fa fa-image"></i>
                    </span>
                </div>
            </div>
            <div class="line-item">
                <span>翻页效果</span>
                <div class="font-box">
                    <ng-container *ngFor="let item of flipItems; let i=index">
                        <span [ngClass]="{active: configs.flip == i}" (click)="configs.flip = i">{{ item }}</span>
                    </ng-container>
                    
                </div>
            </div>
            <div class="line-item">
                <span>字体</span>
                <div class="font-box">
                    <ng-container *ngFor="let item of fontItems; let i=index">
                        <span [ngClass]="{active: configs.font == i}" (click)="configs.font = i">{{ item }}</span>
                    </ng-container>
                </div>
            </div>
            <div class="line-item">
                <span>字体大小</span>
                <div class="size-box">
                    <i class="fa fa-minus" (click)="tapMinus('size')"></i>
                    <span class="lang">{{ configs.size }}</span>
                    <i class="fa fa-plus" (click)="tapPlus('size')"></i>
                </div>
            </div>
            <div class="line-item">
                <span>行距</span>
                <div class="size-box">
                    <i class="fa fa-minus" (click)="tapMinus('line')"></i>
                    <span class="lang">{{ configs.line }}</span>
                    <i class="fa fa-plus" (click)="tapPlus('line')"></i>
                </div>
            </div>
            <div class="line-item">
                <span>间距</span>
                <div class="size-box">
                    <i class="fa fa-minus" (click)="tapMinus('letter')"></i>
                    <span class="lang">{{ configs.letter }}</span>
                    <i class="fa fa-plus" (click)="tapPlus('letter')"></i>
                </div>
            </div>
        </div>
        <div class="tab-bar">
            <a (click)="tapChapter()">
                <i class="fa fa-bars"></i>
                目录
            </a>
            <a (click)="tapEye()" :class="configs.theme == 7 ? 'active' : ''">
                <i class="fa fa-eye"></i>
                夜间
            </a>
            <a (click)="tapSetting()"  :class="readMode == 2 ? 'active' : ''">
                <i class="fa fa-cog"></i>
                设置
            </a>
        </div>
    </footer>
</div>
